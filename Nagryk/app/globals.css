@import "tailwindcss";

@theme {
  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));

  --font-sans: var(--font-inter), ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
  --font-mono: var(--font-incon), ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;

  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));

  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));

  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));

  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));

  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));

  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));

  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));

  --radius-lg: var(--radius);
  --radius-md: calc(var(--radius) - 2px);
  --radius-sm: calc(var(--radius) - 4px);

  --animate-accordion-down: accordion-down 0.2s ease-out;
  --animate-accordion-up: accordion-up 0.2s ease-out;

  @keyframes accordion-down {
    from {
      height: 0;
    }

    to {
      height: var(--radix-accordion-content-height);
    }
  }

  @keyframes accordion-up {
    from {
      height: var(--radix-accordion-content-height);
    }

    to {
      height: 0;
    }
  }

  --animate-marquee: marquee 40s linear infinite;

  @keyframes marquee {
    from {
      transform: translateX(0);
    }

    to {
      transform: translateX(-100%);
    }
  }
}

@utility container {
  margin-inline: auto;
  padding-inline: 2rem;

  @media (width >=--theme(--breakpoint-sm)) {
    max-width: none;
  }

  @media (width >=1400px) {
    max-width: 1400px;
  }
}

/*
  The default border color has changed to `currentColor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {

  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentColor);
  }
}

:root {
  /* Stone 50 */
  --background: 60 4.8% 95.9%;
  /* Slate 900 */
  --foreground: 222.2 47.4% 11.2%;

  /* Amber 500 */
  --primary: 38 92% 50%;
  --primary-foreground: 210 40% 98%;

  /* Stone 100 */
  --card: 0 0% 100%;
  --card-foreground: 222.2 47.4% 11.2%;

  --popover: 0 0% 100%;
  --popover-foreground: 222.2 47.4% 11.2%;

  /* Stone 200 */
  --secondary: 60 4.8% 95.9%;
  --secondary-foreground: 24 9.8% 10%;

  --muted: 60 4.8% 95.9%;
  --muted-foreground: 25 5.3% 44.7%;

  --accent: 60 4.8% 95.9%;
  --accent-foreground: 24 9.8% 10%;

  --destructive: 0 84.2% 60.2%;
  --destructive-foreground: 60 9.1% 97.8%;

  --border: 20 5.9% 90%;
  --input: 20 5.9% 90%;
  --ring: 38 92% 50%;

  --radius: 0.75rem;
}

.dark {
  --background: 20 14.3% 4.1%;
  --foreground: 60 9.1% 97.8%;

  --card: 20 14.3% 4.1%;
  --card-foreground: 60 9.1% 97.8%;

  --popover: 20 14.3% 4.1%;
  --popover-foreground: 60 9.1% 97.8%;

  --primary: 38 92% 50%;
  --primary-foreground: 60 9.1% 97.8%;

  --secondary: 12 6.5% 15.1%;
  --secondary-foreground: 60 9.1% 97.8%;

  --muted: 12 6.5% 15.1%;
  --muted-foreground: 24 5.4% 63.9%;

  --accent: 12 6.5% 15.1%;
  --accent-foreground: 60 9.1% 97.8%;

  --destructive: 0 62.8% 30.6%;
  --destructive-foreground: 60 9.1% 97.8%;

  --border: 12 6.5% 15.1%;
  --input: 12 6.5% 15.1%;
  --ring: 38 92% 50%;
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply text-foreground;
    min-height: 100vh;
    position: relative;
  }

  body::before {
    content: "";
    position: fixed;
    inset: 0;
    z-index: -1;
    background-image:
      radial-gradient(circle at center, #000080 10px, transparent 11px),
      radial-gradient(circle at center, transparent 56px, #000080 57px, #000080 60px, transparent 61px),
      radial-gradient(circle at center, transparent 59px, #FFFFFF 60px),
      repeating-conic-gradient(from 0deg at center, #000080 0deg 2deg, transparent 2deg 15deg),
      radial-gradient(circle at center, rgba(0, 0, 128, 0.25) 0, transparent 150px),
      linear-gradient(180deg, #FF9933 0%, #FFFFFF 35%, #FFFFFF 65%, #138808 100%);
    background-position: center;
    background-repeat: no-repeat;
    background-size:
      100% 100%,
      100% 100%,
      122px 122px,
      122px 122px,
      100% 100%,
      100% 100%;
    filter: blur(30px);
    transform: scale(1.2);
  }
}

@layer utilities {

  /* Dramatic Entry Animation */
  @keyframes popIn {
    0% {
      opacity: 0;
      transform: translateY(50px) scale(0.9);
      /* Start lower and smaller */
    }

    70% {
      transform: translateY(-10px) scale(1.02);
      /* Overshoot slightly (bounce) */
    }

    100% {
      opacity: 1;
      transform: translateY(0) scale(1);
      /* Settle */
    }
  }

  /* Apply to all message bubbles */
  .message-bubble,
  .user-message,
  .ai-message {
    animation: popIn 0.6s cubic-bezier(0.68, -0.55, 0.27, 1.55) forwards;
    /* Bouncy effect */
    scroll-margin-top: 150px;
    /* Reading Mode Buffer */
  }

  .typing-indicator {
    background-color: #e0e0e0;
    /* Distinct gray background */
    padding: 15px 20px;
    /* Bigger bubble */
    border-radius: 20px;
    display: inline-block;
    /* Ensure it takes space */
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    /* Add shadow for depth */
    min-width: 60px;
    margin-bottom: 10px;
    margin-left: 10px;
    animation: popIn 0.6s cubic-bezier(0.68, -0.55, 0.27, 1.55) forwards;
  }

  .typing-indicator span {
    width: 12px;
    /* BIGGER dots (was 8px) */
    height: 12px;
    background-color: #000000;
    /* PURE BLACK dots (was #888) */
    display: inline-block;
    border-radius: 50%;
    margin: 0 3px;
    animation: bounce 1.2s infinite ease-in-out both;
  }

  .typing-indicator span:nth-child(1) {
    animation-delay: -0.32s;
  }

  .typing-indicator span:nth-child(2) {
    animation-delay: -0.16s;
  }

  @keyframes bounce {

    0%,
    80%,
    100% {
      transform: scale(0);
    }

    40% {
      transform: scale(1);
    }
  }
}